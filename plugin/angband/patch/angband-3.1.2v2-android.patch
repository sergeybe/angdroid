Index: src/h-basic.h
===================================================================
--- src/h-basic.h	(revision 3.1.2v2)
+++ src/h-basic.h	(working copy)
@@ -75,7 +75,7 @@
  * Basically, SET_UID should *only* be set for "Unix" machines.
  */
 #if !defined(MACH_O_CARBON) && !defined(WINDOWS) && \
-    !defined(RISCOS) && !defined(GAMEBOY) && !defined(NDS)
+    !defined(RISCOS) && !defined(GAMEBOY) && !defined(NDS) && !defined(ANDROID)
 # define SET_UID
 
 /* Without autoconf, turn on some things */
Index: src/util.c
===================================================================
--- src/util.c	(revision 3.1.2v2)
+++ src/util.c	(working copy)
@@ -1421,7 +1421,7 @@


		/* End "macro trigger" */
-		if (parse_under && (ke.key >=0 && ke.key <= 32))
+		if (parse_under && (iscntrl(ke.key) || ke.key == ' '))
		{
			/* Strip this key */
			ke.type = EVT_NONE;
Index: src/death.c
===================================================================
--- src/death.c	(revision 3.1.2v2)
+++ src/death.c	(working copy)
@@ -489,7 +489,10 @@
 
		if (c.key == ESCAPE || cursor == (menu->count -1))
		{
-			if (get_check("Do you want to quit? "))
+			// hack to allow KTRL('X') to exit the game here
+			char opts[4] = {'y', 'n', KTRL('X'), '\0'};
+			char gckey = get_char("Do you want to quit?", &opts[0], 2, 'n');
+			if (gckey == KTRL('X') || gckey == 'y' || gckey == 'Y')
				break;
		}
		else if (c.type == EVT_SELECT && death_actions[cursor].action)
